<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <style>
        *{
            margin:0px;
            padding:0px;
            box-sizing:border-box;
        }
        body{
            background-color: beige;
        }
        .container-fluid{
            margin:0px;
        }
    </style>
    <title>Search Titles</title>
  </head>
  <body>
    <div>
        <header class="text-center bg-dark text-light">
            <h1 class="py-3">
                Available Titles
            </h1>
        </header>
    </div>
    <section class="container">
        <form class="p-2" method="POST" action="/search">
            {% csrf_token %}
            <div class="row">
              <div class="col">
                <select class="form-select form-control" aria-label="Select a Department" name="Dept">
                  <option value="" selected>Enter Department(e.g. Competitive)</option>
                  {% for dept in Depts%}
                    <option value={{dept.Dept}}>{{dept.Dept}}</option>
                  {% endfor %}
                </select>
              </div>
              <div class="col">
                <input type="text" class="form-control" placeholder="Title" name="Title">
              </div>
              <div class="col">
                <input type="text" class="form-control" placeholder="Author" name="Author">
              </div>
            </div>
            <div class="d-flex justify-content-center">

                <button class="btn btn-primary center my-2" type="submit">Filter | Reset</button>
            </div>
            
          </form>
    </section>
    <section class="container">

        <table class="table table-dark table-bordered">
            <tr>
                <th>Dept</th>
                <th>Title</th>
                <th>Author</th>
                <th>Location</th>
            </tr>
            {% for book in availableBooks %}
            <tr>
                <td>{{book.Dept}}</td>
                <td>{{book.Title}}</td>
                <td>{{book.Author}}</td>
                <td>{{book.Location}}</td>
            </tr>
            {% endfor %}
        </table>
    </section>
  </body>
</html>